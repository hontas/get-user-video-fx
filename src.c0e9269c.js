parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"FdhU":[function(require,module,exports) {
var e=function(){function e(e,t,r){return Math.max(e,Math.min(t,r))}function t(e){return{_:e,loadContentsOf:function(e){M=this._.gl,this._.loadContentsOf(e)},destroy:function(){M=this._.gl,this._.destroy()}}}function r(e){return t(L.fromElement(e))}function o(e,t){var r=M.UNSIGNED_BYTE;if(M.getExtension("OES_texture_float")&&M.getExtension("OES_texture_float_linear")){var o=new L(100,100,M.RGBA,M.FLOAT);try{o.drawTo(function(){r=M.FLOAT})}catch(i){}o.destroy()}this._.texture&&this._.texture.destroy(),this._.spareTexture&&this._.spareTexture.destroy(),this.width=e,this.height=t,this._.texture=new L(e,t,M.RGBA,r),this._.spareTexture=new L(e,t,M.RGBA,r),this._.extraTexture=this._.extraTexture||new L(0,0,M.RGBA,r),this._.flippedShader=this._.flippedShader||new N(null,"uniform sampler2D texture;varying vec2 texCoord;void main(){gl_FragColor=texture2D(texture,vec2(texCoord.x,1.0-texCoord.y));}"),this._.isInitialized=!0}function i(e,t,r){return this._.isInitialized&&e._.width==this.width&&e._.height==this.height||o.call(this,t||e._.width,r||e._.height),e._.use(),this._.texture.drawTo(function(){N.getDefaultShader().drawRect()}),this}function a(){return this._.texture.use(),this._.flippedShader.drawRect(),this}function n(e,t,r,o){(r||this._.texture).use(),this._.spareTexture.drawTo(function(){e.uniforms(t).drawRect()}),this._.spareTexture.swapWith(o||this._.texture)}function l(e){return e.parentNode.insertBefore(this,e),e.parentNode.removeChild(e),this}function s(){var e=new L(this._.texture.width,this._.texture.height,M.RGBA,M.UNSIGNED_BYTE);return this._.texture.use(),e.drawTo(function(){N.getDefaultShader().drawRect()}),t(e)}function c(){var e=this._.texture.width,t=this._.texture.height,r=new Uint8Array(4*e*t);return this._.texture.drawTo(function(){M.readPixels(0,0,e,t,M.RGBA,M.UNSIGNED_BYTE,r)}),r}function u(e){return function(){return M=this._.gl,e.apply(this,arguments)}}function h(e,t,r,o,i,a,n,l){var s,c,u=o-a,h=l-a,f=(c=r-i)*h-(s=n-i)*u;return[r-e+(s=((i=e-r+i-n)*h-s*(a=t-o+a-l))/f)*r,o-t+s*o,s,n-e+(c=(c*a-i*u)/f)*n,l-t+c*l,c,e,t,1]}function f(e){var t=e[0],r=e[1],o=e[2],i=e[3],a=e[4],n=e[5],l=e[6],s=e[7],c=t*a*(e=e[8])-t*n*s-r*i*e+r*n*l+o*i*s-o*a*l;return[(a*e-n*s)/c,(o*s-r*e)/c,(r*n-o*a)/c,(n*l-i*e)/c,(t*e-o*l)/c,(o*i-t*n)/c,(i*s-a*l)/c,(r*l-t*s)/c,(t*a-r*i)/c]}function x(e){var t=e.length;this.xa=[],this.ya=[],this.u=[],this.y2=[],e.sort(function(e,t){return e[0]-t[0]});for(var r=0;r<t;r++)this.xa.push(e[r][0]),this.ya.push(e[r][1]);for(this.u[0]=0,this.y2[0]=0,r=1;r<t-1;++r){e=this.xa[r+1]-this.xa[r-1];var o=(this.xa[r]-this.xa[r-1])/e,i=o*this.y2[r-1]+2;this.y2[r]=(o-1)/i,this.u[r]=(6*((this.ya[r+1]-this.ya[r])/(this.xa[r+1]-this.xa[r])-(this.ya[r]-this.ya[r-1])/(this.xa[r]-this.xa[r-1]))/e-o*this.u[r-1])/i}for(this.y2[t-1]=0,r=t-2;0<=r;--r)this.y2[r]=this.y2[r]*this.y2[r+1]+this.u[r]}function d(e,t){return new N(null,e+"uniform sampler2D texture;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 coord=texCoord*texSize;"+t+"gl_FragColor=texture2D(texture,coord/texSize);vec2 clampedCoord=clamp(coord,vec2(0.0),texSize);if(coord!=clampedCoord){gl_FragColor.a*=max(0.0,1.0-length(coord-clampedCoord));}}")}function g(t){return M.noise=M.noise||new N(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){vec4 color=texture2D(texture,texCoord);float diff=(rand(texCoord)-0.5)*amount;color.r+=diff;color.g+=diff;color.b+=diff;gl_FragColor=color;}"),n.call(this,M.noise,{amount:e(0,t,1)}),this}function m(t){return M.vibrance=M.vibrance||new N(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float average=(color.r+color.g+color.b)/3.0;float mx=max(color.r,max(color.g,color.b));float amt=(mx-average)*(-amount*3.0);color.rgb=mix(color.rgb,vec3(mx),amt);gl_FragColor=color;}"),n.call(this,M.vibrance,{amount:e(-1,t,1)}),this}function v(t,r){return M.vignette=M.vignette||new N(null,"uniform sampler2D texture;uniform float size;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float dist=distance(texCoord,vec2(0.5,0.5));color.rgb*=smoothstep(0.8,size*0.799,dist*(amount+size));gl_FragColor=color;}"),n.call(this,M.vignette,{size:e(0,t,1),amount:e(0,r,1)}),this}function p(e){M.denoise=M.denoise||new N(null,"uniform sampler2D texture;uniform float exponent;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;void main(){vec4 center=texture2D(texture,texCoord);vec4 color=vec4(0.0);float total=0.0;for(float x=-4.0;x<=4.0;x+=1.0){for(float y=-4.0;y<=4.0;y+=1.0){vec4 sample=texture2D(texture,texCoord+vec2(x,y)/texSize);float weight=1.0-abs(dot(sample.rgb-center.rgb,vec3(0.25)));weight=pow(weight,exponent);color+=sample*weight;total+=weight;}}gl_FragColor=color/total;}");for(var t=0;2>t;t++)n.call(this,M.denoise,{exponent:Math.max(0,e),texSize:[this.width,this.height]});return this}function _(t,r){return M.brightnessContrast=M.brightnessContrast||new N(null,"uniform sampler2D texture;uniform float brightness;uniform float contrast;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color.rgb+=brightness;if(contrast>0.0){color.rgb=(color.rgb-0.5)/(1.0-contrast)+0.5;}else{color.rgb=(color.rgb-0.5)*(1.0+contrast)+0.5;}gl_FragColor=color;}"),n.call(this,M.brightnessContrast,{brightness:e(-1,t,1),contrast:e(-1,r,1)}),this}function T(t){t=new x(t);for(var r=[],o=0;256>o;o++)r.push(e(0,Math.floor(256*t.interpolate(o/255)),255));return r}function E(e,t,r){e=T(e),1==arguments.length?t=r=e:(t=T(t),r=T(r));for(var o=[],i=0;256>i;i++)o.splice(o.length,0,e[i],t[i],r[i],255);return this._.extraTexture.initFromBytes(256,1,o),this._.extraTexture.use(1),M.curves=M.curves||new N(null,"uniform sampler2D texture;uniform sampler2D map;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color.r=texture2D(map,vec2(color.r)).r;color.g=texture2D(map,vec2(color.g)).g;color.b=texture2D(map,vec2(color.b)).b;gl_FragColor=color;}"),M.curves.textures({map:1}),n.call(this,M.curves,{}),this}function y(e,t){return M.unsharpMask=M.unsharpMask||new N(null,"uniform sampler2D blurredTexture;uniform sampler2D originalTexture;uniform float strength;uniform float threshold;varying vec2 texCoord;void main(){vec4 blurred=texture2D(blurredTexture,texCoord);vec4 original=texture2D(originalTexture,texCoord);gl_FragColor=mix(blurred,original,1.0+strength);}"),this._.extraTexture.ensureFormat(this._.texture),this._.texture.use(),this._.extraTexture.drawTo(function(){N.getDefaultShader().drawRect()}),this._.extraTexture.use(1),this.triangleBlur(e),M.unsharpMask.textures({originalTexture:1}),n.call(this,M.unsharpMask,{strength:t}),this._.extraTexture.unuse(1),this}function w(t){return M.sepia=M.sepia||new N(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float r=color.r;float g=color.g;float b=color.b;color.r=min(1.0,(r*(1.0-(0.607*amount)))+(g*(0.769*amount))+(b*(0.189*amount)));color.g=min(1.0,(r*0.349*amount)+(g*(1.0-(0.314*amount)))+(b*0.168*amount));color.b=min(1.0,(r*0.272*amount)+(g*0.534*amount)+(b*(1.0-(0.869*amount))));gl_FragColor=color;}"),n.call(this,M.sepia,{amount:e(0,t,1)}),this}function b(t,r){return M.hueSaturation=M.hueSaturation||new N(null,"uniform sampler2D texture;uniform float hue;uniform float saturation;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float angle=hue*3.14159265;float s=sin(angle),c=cos(angle);vec3 weights=(vec3(2.0*c,-sqrt(3.0)*s-c,sqrt(3.0)*s-c)+1.0)/3.0;float len=length(color.rgb);color.rgb=vec3(dot(color.rgb,weights.xyz),dot(color.rgb,weights.zxy),dot(color.rgb,weights.yzx));float average=(color.r+color.g+color.b)/3.0;if(saturation>0.0){color.rgb+=(average-color.rgb)*(1.0-1.0/(1.001-saturation));}else{color.rgb+=(average-color.rgb)*(-saturation);}gl_FragColor=color;}"),n.call(this,M.hueSaturation,{hue:e(-1,t,1),saturation:e(-1,r,1)}),this}function R(e,t,r){return M.zoomBlur=M.zoomBlur||new N(null,"uniform sampler2D texture;uniform vec2 center;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;"+k+"void main(){vec4 color=vec4(0.0);float total=0.0;vec2 toCenter=center-texCoord*texSize;float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=0.0;t<=40.0;t++){float percent=(t+offset)/40.0;float weight=4.0*(percent-percent*percent);vec4 sample=texture2D(texture,texCoord+toCenter*percent*strength/texSize);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}"),n.call(this,M.zoomBlur,{center:[e,t],strength:r,texSize:[this.width,this.height]}),this}function C(e,t,r,o,i,a){M.tiltShift=M.tiltShift||new N(null,"uniform sampler2D texture;uniform float blurRadius;uniform float gradientRadius;uniform vec2 start;uniform vec2 end;uniform vec2 delta;uniform vec2 texSize;varying vec2 texCoord;"+k+"void main(){vec4 color=vec4(0.0);float total=0.0;float offset=random(vec3(12.9898,78.233,151.7182),0.0);vec2 normal=normalize(vec2(start.y-end.y,end.x-start.x));float radius=smoothstep(0.0,1.0,abs(dot(texCoord*texSize-start,normal))/gradientRadius)*blurRadius;for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec4 sample=texture2D(texture,texCoord+delta/texSize*percent*radius);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}");var l=r-e,s=o-t,c=Math.sqrt(l*l+s*s);return n.call(this,M.tiltShift,{blurRadius:i,gradientRadius:a,start:[e,t],end:[r,o],delta:[l/c,s/c],texSize:[this.width,this.height]}),n.call(this,M.tiltShift,{blurRadius:i,gradientRadius:a,start:[e,t],end:[r,o],delta:[-s/c,l/c],texSize:[this.width,this.height]}),this}function A(t,r,o){M.lensBlurPrePass=M.lensBlurPrePass||new N(null,"uniform sampler2D texture;uniform float power;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color=pow(color,vec4(power));gl_FragColor=vec4(color);}");var i="uniform sampler2D texture0;uniform sampler2D texture1;uniform vec2 delta0;uniform vec2 delta1;uniform float power;varying vec2 texCoord;"+k+"vec4 sample(vec2 delta){float offset=random(vec3(delta,151.7182),0.0);vec4 color=vec4(0.0);float total=0.0;for(float t=0.0;t<=30.0;t++){float percent=(t+offset)/30.0;color+=texture2D(texture0,texCoord+delta*percent);total+=1.0;}return color/total;}";M.lensBlur0=M.lensBlur0||new N(null,i+"void main(){gl_FragColor=sample(delta0);}"),M.lensBlur1=M.lensBlur1||new N(null,i+"void main(){gl_FragColor=(sample(delta0)+sample(delta1))*0.5;}"),M.lensBlur2=M.lensBlur2||new N(null,i+"void main(){vec4 color=(sample(delta0)+2.0*texture2D(texture1,texCoord))/3.0;gl_FragColor=pow(color,vec4(power));}").textures({texture1:1});i=[];for(var a=0;3>a;a++){var l=o+2*a*Math.PI/3;i.push([t*Math.sin(l)/this.width,t*Math.cos(l)/this.height])}return t=Math.pow(10,e(-1,r,1)),n.call(this,M.lensBlurPrePass,{power:t}),this._.extraTexture.ensureFormat(this._.texture),n.call(this,M.lensBlur0,{delta0:i[0]},this._.texture,this._.extraTexture),n.call(this,M.lensBlur1,{delta0:i[1],delta1:i[2]},this._.extraTexture,this._.extraTexture),n.call(this,M.lensBlur0,{delta0:i[1]}),this._.extraTexture.use(1),n.call(this,M.lensBlur2,{power:1/t,delta0:i[2]}),this}function D(e){return M.triangleBlur=M.triangleBlur||new N(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+k+"void main(){vec4 color=vec4(0.0);float total=0.0;float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec4 sample=texture2D(texture,texCoord+delta*percent);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}"),n.call(this,M.triangleBlur,{delta:[e/this.width,0]}),n.call(this,M.triangleBlur,{delta:[0,e/this.height]}),this}function S(e){return M.edgeWork1=M.edgeWork1||new N(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+k+"void main(){vec2 color=vec2(0.0);vec2 total=vec2(0.0);float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec3 sample=texture2D(texture,texCoord+delta*percent).rgb;float average=(sample.r+sample.g+sample.b)/3.0;color.x+=average*weight;total.x+=weight;if(abs(t)<15.0){weight=weight*2.0-1.0;color.y+=average*weight;total.y+=weight;}}gl_FragColor=vec4(color/total,0.0,1.0);}"),M.edgeWork2=M.edgeWork2||new N(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+k+"void main(){vec2 color=vec2(0.0);vec2 total=vec2(0.0);float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec2 sample=texture2D(texture,texCoord+delta*percent).xy;color.x+=sample.x*weight;total.x+=weight;if(abs(t)<15.0){weight=weight*2.0-1.0;color.y+=sample.y*weight;total.y+=weight;}}float c=clamp(10000.0*(color.y/total.y-color.x/total.x)+0.5,0.0,1.0);gl_FragColor=vec4(c,c,c,1.0);}"),n.call(this,M.edgeWork1,{delta:[e/this.width,0]}),n.call(this,M.edgeWork2,{delta:[0,e/this.height]}),this}function F(e,t,r){return M.hexagonalPixelate=M.hexagonalPixelate||new N(null,"uniform sampler2D texture;uniform vec2 center;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 tex=(texCoord*texSize-center)/scale;tex.y/=0.866025404;tex.x-=tex.y*0.5;vec2 a;if(tex.x+tex.y-floor(tex.x)-floor(tex.y)<1.0)a=vec2(floor(tex.x),floor(tex.y));else a=vec2(ceil(tex.x),ceil(tex.y));vec2 b=vec2(ceil(tex.x),floor(tex.y));vec2 c=vec2(floor(tex.x),ceil(tex.y));vec3 TEX=vec3(tex.x,tex.y,1.0-tex.x-tex.y);vec3 A=vec3(a.x,a.y,1.0-a.x-a.y);vec3 B=vec3(b.x,b.y,1.0-b.x-b.y);vec3 C=vec3(c.x,c.y,1.0-c.x-c.y);float alen=length(TEX-A);float blen=length(TEX-B);float clen=length(TEX-C);vec2 choice;if(alen<blen){if(alen<clen)choice=a;else choice=c;}else{if(blen<clen)choice=b;else choice=c;}choice.x+=choice.y*0.5;choice.y*=0.866025404;choice*=scale/texSize;gl_FragColor=texture2D(texture,choice+center/texSize);}"),n.call(this,M.hexagonalPixelate,{center:[e,t],scale:r,texSize:[this.width,this.height]}),this}function B(e,t,r,o){return M.colorHalftone=M.colorHalftone||new N(null,"uniform sampler2D texture;uniform vec2 center;uniform float angle;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;float pattern(float angle){float s=sin(angle),c=cos(angle);vec2 tex=texCoord*texSize-center;vec2 point=vec2(c*tex.x-s*tex.y,s*tex.x+c*tex.y)*scale;return(sin(point.x)*sin(point.y))*4.0;}void main(){vec4 color=texture2D(texture,texCoord);vec3 cmy=1.0-color.rgb;float k=min(cmy.x,min(cmy.y,cmy.z));cmy=(cmy-k)/(1.0-k);cmy=clamp(cmy*10.0-3.0+vec3(pattern(angle+0.26179),pattern(angle+1.30899),pattern(angle)),0.0,1.0);k=clamp(k*10.0-5.0+pattern(angle+0.78539),0.0,1.0);gl_FragColor=vec4(1.0-cmy-k,color.a);}"),n.call(this,M.colorHalftone,{center:[e,t],angle:r,scale:Math.PI/o,texSize:[this.width,this.height]}),this}function U(e){return M.ink=M.ink||new N(null,"uniform sampler2D texture;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 dx=vec2(1.0/texSize.x,0.0);vec2 dy=vec2(0.0,1.0/texSize.y);vec4 color=texture2D(texture,texCoord);float bigTotal=0.0;float smallTotal=0.0;vec3 bigAverage=vec3(0.0);vec3 smallAverage=vec3(0.0);for(float x=-2.0;x<=2.0;x+=1.0){for(float y=-2.0;y<=2.0;y+=1.0){vec3 sample=texture2D(texture,texCoord+dx*x+dy*y).rgb;bigAverage+=sample;bigTotal+=1.0;if(abs(x)+abs(y)<2.0){smallAverage+=sample;smallTotal+=1.0;}}}vec3 edge=max(vec3(0.0),bigAverage/bigTotal-smallAverage/smallTotal);gl_FragColor=vec4(color.rgb-dot(edge,edge)*strength*100000.0,color.a);}"),n.call(this,M.ink,{strength:e*e*e*e*e,texSize:[this.width,this.height]}),this}function P(e,t,r,o){return M.dotScreen=M.dotScreen||new N(null,"uniform sampler2D texture;uniform vec2 center;uniform float angle;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;float pattern(){float s=sin(angle),c=cos(angle);vec2 tex=texCoord*texSize-center;vec2 point=vec2(c*tex.x-s*tex.y,s*tex.x+c*tex.y)*scale;return(sin(point.x)*sin(point.y))*4.0;}void main(){vec4 color=texture2D(texture,texCoord);float average=(color.r+color.g+color.b)/3.0;gl_FragColor=vec4(vec3(average*10.0-5.0+pattern()),color.a);}"),n.call(this,M.dotScreen,{center:[e,t],angle:r,scale:Math.PI/o,texSize:[this.width,this.height]}),this}function z(e,t,r){if(M.matrixWarp=M.matrixWarp||d("uniform mat3 matrix;uniform bool useTextureSpace;","if(useTextureSpace)coord=coord/texSize*2.0-1.0;vec3 warp=matrix*vec3(coord,1.0);coord=warp.xy/warp.z;if(useTextureSpace)coord=(coord*0.5+0.5)*texSize;"),4==(e=Array.prototype.concat.apply([],e)).length)e=[e[0],e[1],0,e[2],e[3],0,0,0,1];else if(9!=e.length)throw"can only warp with 2x2 or 3x3 matrix";return n.call(this,M.matrixWarp,{matrix:t?f(e):e,texSize:[this.width,this.height],useTextureSpace:0|r}),this}function X(e,t,r,o){return M.swirl=M.swirl||d("uniform float radius;uniform float angle;uniform vec2 center;","coord-=center;float distance=length(coord);if(distance<radius){float percent=(radius-distance)/radius;float theta=percent*percent*angle;float s=sin(theta);float c=cos(theta);coord=vec2(coord.x*c-coord.y*s,coord.x*s+coord.y*c);}coord+=center;"),n.call(this,M.swirl,{radius:r,center:[e,t],angle:o,texSize:[this.width,this.height]}),this}function I(t,r,o,i){return M.bulgePinch=M.bulgePinch||d("uniform float radius;uniform float strength;uniform vec2 center;","coord-=center;float distance=length(coord);if(distance<radius){float percent=distance/radius;if(strength>0.0){coord*=mix(1.0,smoothstep(0.0,radius/distance,percent),strength*0.75);}else{coord*=mix(1.0,pow(percent,1.0+strength*0.75)*radius/distance,1.0-percent);}}coord+=center;"),n.call(this,M.bulgePinch,{radius:o,strength:e(-1,i,1),center:[t,r],texSize:[this.width,this.height]}),this}function G(e,t){var r=h.apply(null,t),o=h.apply(null,e);r=f(r);return this.matrixWarp([r[0]*o[0]+r[1]*o[3]+r[2]*o[6],r[0]*o[1]+r[1]*o[4]+r[2]*o[7],r[0]*o[2]+r[1]*o[5]+r[2]*o[8],r[3]*o[0]+r[4]*o[3]+r[5]*o[6],r[3]*o[1]+r[4]*o[4]+r[5]*o[7],r[3]*o[2]+r[4]*o[5]+r[5]*o[8],r[6]*o[0]+r[7]*o[3]+r[8]*o[6],r[6]*o[1]+r[7]*o[4]+r[8]*o[7],r[6]*o[2]+r[7]*o[5]+r[8]*o[8]])}var M,O={};!function(){function e(){}try{var t=document.createElement("canvas").getContext("experimental-webgl")}catch(i){}if(t&&-1===t.getSupportedExtensions().indexOf("OES_texture_float_linear")&&function(e){if(!e.getExtension("OES_texture_float"))return!1;var t=e.createFramebuffer(),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),t=e.createTexture(),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,e.FLOAT,new Float32Array([2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),r=e.createProgram();var o=e.createShader(e.VERTEX_SHADER),i=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(o,"attribute vec2 vertex;void main(){gl_Position=vec4(vertex,0.0,1.0);}"),e.shaderSource(i,"uniform sampler2D texture;void main(){gl_FragColor=texture2D(texture,vec2(0.5));}"),e.compileShader(o),e.compileShader(i),e.attachShader(r,o),e.attachShader(r,i),e.linkProgram(r),o=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0]),e.STREAM_DRAW),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,0),o=new Uint8Array(4),e.useProgram(r),e.viewport(0,0,1,1),e.bindTexture(e.TEXTURE_2D,t),e.drawArrays(e.POINTS,0,1),e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,o),127===o[0]||128===o[0]}(t)){var r=WebGLRenderingContext.prototype.getExtension,o=WebGLRenderingContext.prototype.getSupportedExtensions;WebGLRenderingContext.prototype.getExtension=function(t){return"OES_texture_float_linear"===t?(void 0===this.$OES_texture_float_linear$&&Object.defineProperty(this,"$OES_texture_float_linear$",{enumerable:!1,configurable:!1,writable:!1,value:new e}),t=this.$OES_texture_float_linear$):t=r.call(this,t),t},WebGLRenderingContext.prototype.getSupportedExtensions=function(){var e=o.call(this);return-1===e.indexOf("OES_texture_float_linear")&&e.push("OES_texture_float_linear"),e}}}(),O.canvas=function(){var e=document.createElement("canvas");try{M=e.getContext("experimental-webgl",{premultipliedAlpha:!1})}catch(t){M=null}if(!M)throw"This browser does not support WebGL";return e._={gl:M,isInitialized:!1,texture:null,spareTexture:null,flippedShader:null},e.texture=u(r),e.draw=u(i),e.update=u(a),e.replace=u(l),e.contents=u(s),e.getPixelArray=u(c),e.brightnessContrast=u(_),e.hexagonalPixelate=u(F),e.hueSaturation=u(b),e.colorHalftone=u(B),e.triangleBlur=u(D),e.unsharpMask=u(y),e.perspective=u(G),e.matrixWarp=u(z),e.bulgePinch=u(I),e.tiltShift=u(C),e.dotScreen=u(P),e.edgeWork=u(S),e.lensBlur=u(A),e.zoomBlur=u(R),e.noise=u(g),e.denoise=u(p),e.curves=u(E),e.swirl=u(X),e.ink=u(U),e.vignette=u(v),e.vibrance=u(m),e.sepia=u(w),e},O.splineInterpolate=T;var L=function(){function e(e,t,r,o){this.gl=M,this.id=M.createTexture(),this.width=e,this.height=t,this.format=r,this.type=o,M.bindTexture(M.TEXTURE_2D,this.id),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,M.LINEAR),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,M.LINEAR),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE),e&&t&&M.texImage2D(M.TEXTURE_2D,0,this.format,e,t,0,this.format,this.type,null)}function t(e){return null==r&&(r=document.createElement("canvas")),r.width=e.width,r.height=e.height,(e=r.getContext("2d")).clearRect(0,0,r.width,r.height),e}e.fromElement=function(t){var r=new e(0,0,M.RGBA,M.UNSIGNED_BYTE);return r.loadContentsOf(t),r},e.prototype.loadContentsOf=function(e){this.width=e.width||e.videoWidth,this.height=e.height||e.videoHeight,M.bindTexture(M.TEXTURE_2D,this.id),M.texImage2D(M.TEXTURE_2D,0,this.format,this.format,this.type,e)},e.prototype.initFromBytes=function(e,t,r){this.width=e,this.height=t,this.format=M.RGBA,this.type=M.UNSIGNED_BYTE,M.bindTexture(M.TEXTURE_2D,this.id),M.texImage2D(M.TEXTURE_2D,0,M.RGBA,e,t,0,M.RGBA,this.type,new Uint8Array(r))},e.prototype.destroy=function(){M.deleteTexture(this.id),this.id=null},e.prototype.use=function(e){M.activeTexture(M.TEXTURE0+(e||0)),M.bindTexture(M.TEXTURE_2D,this.id)},e.prototype.unuse=function(e){M.activeTexture(M.TEXTURE0+(e||0)),M.bindTexture(M.TEXTURE_2D,null)},e.prototype.ensureFormat=function(e,t,r,o){if(1==arguments.length){var i=arguments[0];e=i.width,t=i.height,r=i.format,o=i.type}e==this.width&&t==this.height&&r==this.format&&o==this.type||(this.width=e,this.height=t,this.format=r,this.type=o,M.bindTexture(M.TEXTURE_2D,this.id),M.texImage2D(M.TEXTURE_2D,0,this.format,e,t,0,this.format,this.type,null))},e.prototype.drawTo=function(e){if(M.framebuffer=M.framebuffer||M.createFramebuffer(),M.bindFramebuffer(M.FRAMEBUFFER,M.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,this.id,0),M.checkFramebufferStatus(M.FRAMEBUFFER)!==M.FRAMEBUFFER_COMPLETE)throw Error("incomplete framebuffer");M.viewport(0,0,this.width,this.height),e(),M.bindFramebuffer(M.FRAMEBUFFER,null)};var r=null;return e.prototype.fillUsingCanvas=function(e){return e(t(this)),this.format=M.RGBA,this.type=M.UNSIGNED_BYTE,M.bindTexture(M.TEXTURE_2D,this.id),M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,r),this},e.prototype.toImage=function(e){this.use(),N.getDefaultShader().drawRect();var o=4*this.width*this.height,i=new Uint8Array(o),a=t(this),n=a.createImageData(this.width,this.height);M.readPixels(0,0,this.width,this.height,M.RGBA,M.UNSIGNED_BYTE,i);for(var l=0;l<o;l++)n.data[l]=i[l];a.putImageData(n,0,0),e.src=r.toDataURL()},e.prototype.swapWith=function(e){var t;t=e.id,e.id=this.id,this.id=t,t=e.width,e.width=this.width,this.width=t,t=e.height,e.height=this.height,this.height=t,t=e.format,e.format=this.format,this.format=t},e}();x.prototype.interpolate=function(e){for(var t=0,r=this.ya.length-1;1<r-t;){var o=r+t>>1;this.xa[o]>e?r=o:t=o}o=this.xa[r]-this.xa[t];var i=(this.xa[r]-e)/o;return e=(e-this.xa[t])/o,i*this.ya[t]+e*this.ya[r]+((i*i*i-i)*this.y2[t]+(e*e*e-e)*this.y2[r])*o*o/6};var N=function(){function e(e,t){var r=M.createShader(e);if(M.shaderSource(r,t),M.compileShader(r),!M.getShaderParameter(r,M.COMPILE_STATUS))throw"compile error: "+M.getShaderInfoLog(r);return r}function t(t,i){if(this.texCoordAttribute=this.vertexAttribute=null,this.program=M.createProgram(),t=t||r,i="precision highp float;"+(i=i||o),M.attachShader(this.program,e(M.VERTEX_SHADER,t)),M.attachShader(this.program,e(M.FRAGMENT_SHADER,i)),M.linkProgram(this.program),!M.getProgramParameter(this.program,M.LINK_STATUS))throw"link error: "+M.getProgramInfoLog(this.program)}var r="attribute vec2 vertex;attribute vec2 _texCoord;varying vec2 texCoord;void main(){texCoord=_texCoord;gl_Position=vec4(vertex*2.0-1.0,0.0,1.0);}",o="uniform sampler2D texture;varying vec2 texCoord;void main(){gl_FragColor=texture2D(texture,texCoord);}";return t.prototype.destroy=function(){M.deleteProgram(this.program),this.program=null},t.prototype.uniforms=function(e){for(var t in M.useProgram(this.program),e)if(e.hasOwnProperty(t)){var r=M.getUniformLocation(this.program,t);if(null!==r){var o=e[t];if("[object Array]"==Object.prototype.toString.call(o))switch(o.length){case 1:M.uniform1fv(r,new Float32Array(o));break;case 2:M.uniform2fv(r,new Float32Array(o));break;case 3:M.uniform3fv(r,new Float32Array(o));break;case 4:M.uniform4fv(r,new Float32Array(o));break;case 9:M.uniformMatrix3fv(r,!1,new Float32Array(o));break;case 16:M.uniformMatrix4fv(r,!1,new Float32Array(o));break;default:throw"dont't know how to load uniform \""+t+'" of length '+o.length}else{if("[object Number]"!=Object.prototype.toString.call(o))throw'attempted to set uniform "'+t+'" to invalid value '+(o||"undefined").toString();M.uniform1f(r,o)}}}return this},t.prototype.textures=function(e){for(var t in M.useProgram(this.program),e)e.hasOwnProperty(t)&&M.uniform1i(M.getUniformLocation(this.program,t),e[t]);return this},t.prototype.drawRect=function(e,t,r,o){var i=M.getParameter(M.VIEWPORT);t=void 0!==t?(t-i[1])/i[3]:0,e=void 0!==e?(e-i[0])/i[2]:0,r=void 0!==r?(r-i[0])/i[2]:1,o=void 0!==o?(o-i[1])/i[3]:1,null==M.vertexBuffer&&(M.vertexBuffer=M.createBuffer()),M.bindBuffer(M.ARRAY_BUFFER,M.vertexBuffer),M.bufferData(M.ARRAY_BUFFER,new Float32Array([e,t,e,o,r,t,r,o]),M.STATIC_DRAW),null==M.texCoordBuffer&&(M.texCoordBuffer=M.createBuffer(),M.bindBuffer(M.ARRAY_BUFFER,M.texCoordBuffer),M.bufferData(M.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),M.STATIC_DRAW)),null==this.vertexAttribute&&(this.vertexAttribute=M.getAttribLocation(this.program,"vertex"),M.enableVertexAttribArray(this.vertexAttribute)),null==this.texCoordAttribute&&(this.texCoordAttribute=M.getAttribLocation(this.program,"_texCoord"),M.enableVertexAttribArray(this.texCoordAttribute)),M.useProgram(this.program),M.bindBuffer(M.ARRAY_BUFFER,M.vertexBuffer),M.vertexAttribPointer(this.vertexAttribute,2,M.FLOAT,!1,0,0),M.bindBuffer(M.ARRAY_BUFFER,M.texCoordBuffer),M.vertexAttribPointer(this.texCoordAttribute,2,M.FLOAT,!1,0,0),M.drawArrays(M.TRIANGLE_STRIP,0,4)},t.getDefaultShader=function(){return M.defaultShader=M.defaultShader||new t,M.defaultShader},t}(),k="float random(vec3 scale,float seed){return fract(sin(dot(gl_FragCoord.xyz+seed,scale))*43758.5453+seed);}";return O}();"object"==typeof module?module.exports=e:window.fx=e;
},{}],"Ml5u":[function(require,module,exports) {
"use strict";function e(e,r,t){e/=255,r/=255,t/=255;var s,a,n=Math.max(e,r,t),o=Math.min(e,r,t),c=(n+o)/2;if(n==o)s=a=0;else{var i=n-o;switch(a=c>.5?i/(2-n-o):i/(n+o),n){case e:s=(r-t)/i+(r<t?6:0);break;case r:s=(t-e)/i+2;break;case t:s=(e-r)/i+4}s/=6}return[s,a,c]}function r(e,r,t){var s,a,n;if(0==r)s=a=n=t;else{var o=function(e,r,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*(r-e)*t:t<.5?r:t<2/3?e+(r-e)*(2/3-t)*6:e},c=t<.5?t*(1+r):t+r-t*r,i=2*t-c;s=o(i,c,e+1/3),a=o(i,c,e),n=o(i,c,e-1/3)}return[255*s,255*a,255*n]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbToHsl=e,exports.hslToRgb=r;
},{}],"v5kZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setBrightnessAndContrast=s,exports.red=p,exports.green=v,exports.blue=b,exports.mix=y,exports.grayScale=x,exports.mixColors=O,exports.chromaColors=m;var r,t,e,n,o=u(require("./color"));function a(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return a=function(){return r},r}function u(r){if(r&&r.__esModule)return r;var t=a();if(t&&t.has(r))return t.get(r);var e={};if(null!=r){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var u=n?Object.getOwnPropertyDescriptor(r,o):null;u&&(u.get||u.set)?Object.defineProperty(e,o,u):e[o]=r[o]}}return e.default=r,t&&t.set(r,e),e}function i(r,t){return l(r)||c(r,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(r,t){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)){var e=[],n=!0,o=!1,a=void 0;try{for(var u,i=r[Symbol.iterator]();!(n=(u=i.next()).done)&&(e.push(u.value),!t||e.length!==t);n=!0);}catch(f){o=!0,a=f}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return e}}function l(r){if(Array.isArray(r))return r}function s(o){var a=i(o,3),u=a[0],f=a[1],c=a[2];r=u,e=c/100+1,n=128*(1-(t=f/100+1))}function p(r){return r}function v(r,t){return t}function b(r,t,e){return e}function y(r,t,e,n){return(r*n[0]+t*n[1]+e*n[2])/3}function g(e){return(e+r)*t+n}function d(r,t,n){var a=i(o.rgbToHsl(r,t,n),3),u=a[0],f=a[1],c=a[2];return o.hslToRgb(u,f*e,c)}var h={mix:y,red:p,green:v,blue:b};function x(r,t,e){for(var n,o=r.data,a=o.length,u=255*e[3],i=0;i<a;i+=4)n=h[t](g(o[i]),g(o[i+1]),g(o[i+2]),e),o[i]=n,o[i+1]=n,o[i+2]=n,o[i+3]=u;return r}function O(r,t){var n=r.data,o=n.length,a=255*t[3];if(1===e)for(var u=0;u<o;u+=4)n[u]=g(n[u])*t[0],n[u+1]=g(n[u+1])*t[1],n[u+2]=g(n[u+2])*t[2],n[u+3]=a;else for(var f=0;f<o;f+=4){var c=i(d(g(n[f])*t[0],g(n[f+1])*t[1],g(n[f+2])*t[2]),3),l=c[0],s=c[1],p=c[2];n[f]=l,n[f+1]=s,n[f+2]=p,n[f+3]=a}return r}var j=1/6;function m(r,t,e){for(var n=r.data,a=n.length,u=i(t,3),f=u[0],c=u[1],l=u[2],s=i(e,3),p=s[0],v=s[1],b=s[2],y=0;y<a;y+=4){var d=g(n[y]),h=g(n[y+1]),x=g(n[y+2]),O=o.rgbToHsl(d,h,x),m=Math.abs(O[0]-f),w=Math.abs(O[1]-c),M=Math.abs(O[2]-l);n[y]=d,n[y+1]=h,n[y+2]=x,m<p&&w<v&&M<b&&(n[y+3]=m/j*255)}return r}
},{"./color":"Ml5u"}],"H99C":[function(require,module,exports) {
"use strict";var e,t,n,r,a,o,c,i,l,u,s,d,y=g(require("glfx")),p=g(require("./utils/pixel")),f=g(require("./utils/color"));function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function g(e){if(e&&e.__esModule)return e;var t=v();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}return n.default=e,t&&t.set(e,n),n}function m(e){return b(e)||w(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function w(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function b(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var E,O,k=[],j=f.rgbToHsl(0,255,0),x="color",A="mix",I=!1,L=1280/720;function q(){o=window.innerWidth,c=window.innerWidth/L,i=m(document.querySelectorAll("[name=color-channels] input[type=range]")),l=m(document.querySelectorAll("[name=chroma-key] input[type=range]")),u=m(document.querySelectorAll("[name=adjust] input[type=range]")),s=document.getElementById("form"),d=document.querySelector("input[type=color]"),n=document.getElementById("video");var p=document.getElementById("canvas");r=p.getContext("2d");var f=new OffscreenCanvas(o,c);(a=f.getContext("2d")).translate(o,0),a.scale(-1,1),e=y.canvas(),t=e.texture(n),document.querySelector(".canvas-wrapper").insertAdjacentElement("afterend",e),document.getElementById("on-off").addEventListener("change",U,!1),s.addEventListener("reset",T,!1),d.addEventListener("change",W,!1),s.color.addEventListener("change",M,!1),s.grayscale.addEventListener("change",B,!1),s["color-channels"].addEventListener("input",P,!1),s["chroma-key"].addEventListener("input",F,!1),s.adjust.addEventListener("input",H,!1),P(),F(),H(),p.width=o,p.height=c,n.addEventListener("play",S,!1),navigator.mediaDevices.getUserMedia({video:!0}).then(C).catch(function(e){return console.log("error",e)})}function C(e){n.srcObject=e}function S(){n.paused||n.ended||(D(),window.requestAnimationFrame(S))}function D(){a.drawImage(n,0,0,o,c);var i,l=a.getImageData(0,0,o,c);if(!1===I)return i=l,r.putImageData(i,0,0);t.loadContentsOf(n),e.draw(t).brightnessContrast(k[0],k[1]).hueSaturation(k[3],k[2]).vibrance(k[4]).update(),i="grayscale"===x?p.grayScale(l,A,E):"chroma-key"===x?p.chromaColors(l,j,O):p.mixColors(l,E),r.putImageData(i,0,0)}function B(e){var t=e.target;A=t.value}function M(e){var t=e.target;switch(x=t.value){case"color":s.grayscale.style.display="none",s["chroma-key"].style.display="none",s["color-channels"].style.display="flex";break;case"grayscale":s["chroma-key"].style.display="none",s.grayscale.style.display="flex",s["color-channels"].style.display="flex";break;case"chroma-key":s.grayscale.style.display="none",s["color-channels"].style.display="none",s["chroma-key"].style.display="flex";break;default:throw Error('Unhandled choice: "'.concat(x,'"'))}}function P(){E=i.map(function(e){var t=e.value;return parseFloat(t,10)})}function T(){setTimeout(function(){P(),F(),H(),M({target:{value:"color"}}),B({target:{value:"mix"}})},1)}function W(e){var t=e.target,n=[t.value.slice(1,3),t.value.slice(3,5),t.value.slice(5,7)].map(function(e){return parseInt(e,16)}),r=f.rgbToHsl.apply(f,m(n));j=r}function F(){O=l.map(function(e){var t=e.value;return parseFloat(t,10)})}function H(){var e=u.map(function(e){var t=e.value;return parseInt(t,10)});p.setBrightnessAndContrast(e),k=e.map(function(e){return e/100})}function U(e){var t=e.target;I=t.checked}window.addEventListener("DOMContentLoaded",q,!1);
},{"glfx":"FdhU","./utils/pixel":"v5kZ","./utils/color":"Ml5u"}]},{},["H99C"], null)
//# sourceMappingURL=/get-user-video-fx/src.c0e9269c.js.map